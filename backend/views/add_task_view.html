<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Task</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/add_task_view.css" />
</head>

<script>
    const collection = document.getElementsByClassName("resize");

    function fontResize() {
        var toSet = document.getElementById("slider").value + 'px';
        for (var i = 0; i < collection.length; i++) {
            collection[i].style.fontSize = document.getElementById("slider").value + 'px';
        }
    }   
</script>

<body>
    <div class="side_box_align">
        <div class="sidenav">
            <p class="logo_title">Dex Studios</p>
            <a href="/dashboard"> <i class="bi bi-grid"></i> Dashboard</a>
            <a href="/product"> <i class="bi bi-list-columns-reverse"></i> Product Backlog</a>
            <a href = "/sprint_board"> <i class="bi bi-card-heading"></i> Sprint Board</a>      
            <p class="empty_button"></p> 
            <hr>
            <a href="/" > <i class="bi bi-box-arrow-left"></i> Logout</a>
            <br><br>
            
            <div>
                <h4 class="accessibility_ts_label">Change Text Size</h4>
                <input type="range" min="10" max="50" id="slider" value="30" class="custom-slider" onchange="fontResize()">
                <label class="small_font">A</label>
                <label class="big_font">A</label>
            </div>
        </div>

        <div class="welcome_box container mt-5 resize">
            <h1 class="resize heading_message">Create Tasks</h1>     
            <form action="/submit_task" method="POST">

        <div class="container my-5 resize">
            <div class="card">
                <form action="/submit" method="POST">
                    <div class="container card-text my-2">
                        <h2 class="text-center resize">Create Task</h2>
                        <a class="btn btn-primary resize" href="/product">Product Backlog</a>
                    </div>
                    <div class="container">
                        <!-- Task Name Input -->
                        <div class="mb-3">
                            <label for="task_name" class="form-label">Task Name:</label>
                            <input class="form-control form-control-sm resize" type="text" id="task_name" name="task_name" placeholder="Enter the task details" required>
                        </div>

                        <!-- Task Type Dropdown -->
                        <div class="mb-3">
                            <label class="form-label" for="task_type">Task Type (Tag):</label>
                            <select class="form-control form-control-sm resize" id="task_type" name="task_type" required>
                                <option value="frontend">Frontend</option>
                                <option value="backend">Backend</option>
                                <option value="bugfix">Testing</option>
                            </select>
                        </div>

                        <!-- Person (Member) Dropdown -->
                        <div class="mb-3">
                            <label class="form-label" for="task_assignee">Assignee:</label>
                            <select class="form-control form-control-sm resize" id="task_assignee" name="task_assignee" required>
                                <% users.forEach(user => { %>
                                    <option value="<%= user.user_name %>"><%= user.user_name %></option>
                                <% }) %>
                            </select>
                        </div>

                        <!-- Description Input -->
                        <div class="mb-3">
                            <label class="form-label" for="task_desc">Description:</label>
                            <textarea class="form-control form-control-sm resize" id="task_desc" name="task_desc" rows="4" placeholder="Enter a description" required></textarea>
                        </div>

                        <!-- Date Picker -->
                        <div class="mb-3">
                            <label class="form-label" for="task_date">End Date:</label>
                            <input class="form-control form-control-sm resize" type="date" id="task_date" name="task_date">
                        </div>

                         <!-- Status Dropdown -->
                         <div class="mb-3">
                            <label class="form-label" for="task_status">Status:</label>
                            <select class="form-control form-control-sm resize" id="task_status" name="task_status" required>
                                <option value="Started">To Do</option>
                                <option value="In Progress">In Progress</option>
                                <option value="Completed">Completed</option>
                            </select>
                         </div>

                        <!-- Priority Input -->
                        <div class="mb-3">
                            <label class="form-label" for="task_priority">Priority:</label>
                                <select class="form-control form-control-sm" id="task_priority" name="task_priority" required>
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                        </div>

                        <!-- Story Points Input -->
                        <div class="mb-3">
                            <label class="form-label" for="task_storypoint">Story Points:</label>
                            <input class="form-control form-control-sm resize" type="number" id="task_storypoint" name="task_storypoint" min="1" max="5" placeholder="1 - 5" required>
                        </div>

                        <!-- Assign to Sprint -->
                        <div class="mb-3">
                            <label class="form-label" for="sprint_no">Assign Sprint No:</label>
                            <select class="form-control form-control-sm" id="sprint_no" name="sprint_no" >
                                <% sprints.forEach(sprint => { %>
                                    <option value="<%= sprint.sprint_no %>"><%= sprint.sprint_no %></option>
                                <% }) %>
                            </select>
                        </div>

                        <div class ="mb-3">
                            <label class="form-label" for ="log_hours"> Log Hours</label> 
                            <input class="form-control form-control-sm resize" type="number" id="log_hours" name="log_hours" placeholder= "Enter a number" ></textarea>
                        
                                
                        
                        </div>

                        <button class="btn btn-success resize" type="submit">Save</button>
                    </div>

                    <!-- Task Type Dropdown -->
                    <div class="mb-3">
                        <i class="bi bi-tag"></i>
                        <label class="form-label" for="task_type">Task Type (Tag):</label>
                        <label style="color: red;">*</label>
                        <select class="form-control form-control-sm resize" id="task_type" name="task_type" required>
                            <option value="frontend">Frontend</option>
                            <option value="backend">Backend</option>
                            <option value="bugfix">Testing</option>
                        </select>
                    </div>

                    <!-- Person (Member) Dropdown -->
                    <div class="mb-3">
                        <i class="bi bi-person"></i>
                        <label class="form-label" for="task_assignee">Assignee:</label>
                        <select class="form-control form-control-sm resize" id="task_assignee" name="task_assignee">
                            <% users.forEach(user => { %>
                                <option value="<%= user.user_name %>"><%= user.user_name %></option>
                            <% }) %>
                        </select>
                    </div>

                    <!-- Description Input -->
                    <div class="mb-3">
                        <i class="bi bi-body-text"></i>
                        <label class="form-label" for="task_desc">Description:</label>
                        <label style="color: red;">*</label>
                        <textarea class="form-control form-control-sm resize" id="task_desc" name="task_desc" rows="4" placeholder="Enter a description" required></textarea>
                    </div>

                    <!-- Date Picker -->
                    <div class="mb-3">
                        <i class="bi bi-calendar-date"></i>
                        <label class="form-label" for="task_date">End Date:</label>
                        <input class="form-control form-control-sm resize" type="date" id="task_date" name="task_date">
                    </div>

                        <!-- Status Dropdown -->
                        <div class="mb-3">
                        <i class="bi bi-check2-square"></i>
                        <label class="form-label" for="task_status">Status:</label>
                        <label style="color: red;">*</label>
                        <select class="form-control form-control-sm resize" id="task_status" name="task_status" required>
                            <option value="To Do">To Do</option>
                            <option value="In Progress">In Progress</option>
                            <option value="Completed">Completed</option>
                        </select>
                        </div>

                    <!-- Priority Input -->
                    <div class="mb-3">
                        <i class="bi bi-award-fill"></i>
                        <label class="form-label" for="task_priority">Priority:</label>
                        <label style="color: red;">*</label>
                            <select class="form-control form-control-sm" id="task_priority" name="task_priority" required>
                                <option value="High">High</option>
                                <option value="Medium">Medium</option>
                                <option value="Low">Low</option>
                            </select>
                    </div>

                    <!-- Story Points Input -->
                    <div class="mb-3">
                        <i class="bi bi-0-circle"></i>
                        <label class="form-label" for="task_storypoint">Story Points:</label>
                        <label style="color: red;">*</label>
                        <input class="form-control form-control-sm resize" type="number" id="task_storypoint" name="task_storypoint" min="1" max="5" placeholder="1 - 5" required>
                    </div>

                    <!-- Assign to Sprint -->
                    <div class="mb-3">
                        <i class="bi bi-123"></i>
                        <label class="form-label" for="sprint_no">Assign Sprint No:</label>
                        <select class="form-control form-control-sm" id="sprint_no" name="sprint_no" >
                            <% sprints.forEach(sprint => { %>
                                <option value="<%= sprint.sprint_no %>"><%= sprint.sprint_no %></option>
                            <% }) %>
                        </select>
                    </div>

                    

                    <button class="btn btn-success resize" type="submit">Save</button>
                </div>

                <br>
                
            </form>
        </div>
    </div>

</body>
</html>
