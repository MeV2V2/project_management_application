<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update User</title>

    <link href="/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/update_user_view.css" />

</head>

<script>
    const collection = document.getElementsByClassName("resize");

    function fontResize() {
      var toSet = document.getElementById("slider").value + 'px';
        for (var i = 0; i < collection.length; i++) {
          collection[i].style.fontSize = document.getElementById("slider").value + 'px';
      }
    }
</script>

<body>
    <div class="side_box_align">
        <div class="sidenav">
            <p class="logo_title">Dex Studios</p>
            <a href="/dashboard"> <i class="bi bi-grid"></i> Dashboard</a>
            <a href="/product"> <i class="bi bi-list-columns-reverse"></i> Product Backlog</a>
            <a href = "/sprint_board"> <i class="bi bi-card-heading"></i> Sprint Board</a>      
            <p class="empty_button"></p> 
            <hr>
            <a href="/" > <i class="bi bi-box-arrow-left"></i> Logout</a>
            <br><br>
            
            <div>
                <h4 class="accessibility_ts_label">Change Text Size</h4>
                <input type="range" min="10" max="50" id="slider" value="30" class="custom-slider" onchange="fontResize()">
                <label class="small_font">A</label>
                <label class="big_font">A</label>
            </div>
        </div>

        <div class="welcome_box container mt-5 resize">
            <h1 class="resize heading_message">Update User</h1>

            <form action="/user/update_user" method="POST">    
                <div class="container">
                    <input type="hidden" name="user_no" value="<%= user.user_no %>"/>
            
                    <label class="form_instructions" >Fields with * is mandatory</label> 
                    <!-- User Name Input -->
                    <div class="form-group">
                        
                        <label for="user_name" class="form-label"><i class="bi bi-person"></i> User Name:<label class="star">*</label></label>
                        <input class="form-control form-control-sm resize" type="text" id="user_name" name="user_name" value="<%= user.user_name %>" required>
                    </div>
            
                    <!-- User Email Input -->
                    <div class="form-group">
                        
                        <label for="user_email" class="form-label"><i class="bi bi-envelope-at"></i> User Email:<label class="star">*</label></label>
                        <input class="form-control form-control-sm resize" type="email" id="user_email" name="user_email" value="<%= user.user_email %>" required>
                    </div>
            
                    <!-- User Password Input -->
                    <div class="form-group">
                       
                        <label class="form-label" for="user_password"><i class="bi bi-person-lock"></i> User Password:<label class="star">*</label></label>
                        <input class="form-control form-control-sm resize" type="password" id="user_password" name="user_password" value="<%= user.user_password %>" required>
                    </div> 
            
                    <!-- User Type Input -->
                    <div class="form-group">
                        <label class="form-label" for="user_type"><i class="bi bi-menu-app"></i> User Type:<label class="star">*</label></label>
                        <select class="form-control form-control-sm resize" id="user_type" name="user_type" required>
                            <option value="Admin" <%= user.user_type === "Admin" ? 'selected' : '' %>>Admin</option>
                            <option value="Team Member" <%= user.user_type === "Team Member" ? 'selected' : '' %>>Team Member</option>
                        </select>
                    </div>

                    <br>
            
                    <button type="submit" class="btn button_style resize"><i class="bi bi-arrow-repeat"></i> Update User</button>
                </div>
                <br>
            </form>


        </div>
    </div>
</body>
</html>